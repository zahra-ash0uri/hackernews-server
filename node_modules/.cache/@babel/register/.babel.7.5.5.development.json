{
  "{\"sourceRoot\":\"/home/zahra/Desktop/react-projects/hackernews-server\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/zahra/Desktop/react-projects/hackernews-server\",\"filename\":\"/home/zahra/Desktop/react-projects/hackernews-server/app.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/zahra/Desktop/react-projects/hackernews-server\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"corejs\":false,\"helpers\":true,\"regenerator\":true,\"useESModules\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.5.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/zahra/Desktop/react-projects/hackernews-server",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/zahra/Desktop/react-projects/hackernews-server",
      "filename": "/home/zahra/Desktop/react-projects/hackernews-server/app.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/zahra/Desktop/react-projects/hackernews-server",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "corejs": false,
            "helpers": true,
            "regenerator": true,
            "useESModules": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/zahra/Desktop/react-projects/hackernews-server/app.js",
        "plugins": [
          "dynamicImport",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/zahra/Desktop/react-projects/hackernews-server/app.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/zahra/Desktop/react-projects/hackernews-server",
        "sourceFileName": "app.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _api = _interopRequireDefault(require(\"./api\"));\n\nconst app = (0, _express.default)();\napp.set('view engine', 'pug');\napp.use(_express.default.static(__dirname + '/www'));\napp.use(_bodyParser.default.json());\napp.use(_bodyParser.default.urlencoded({\n  extended: false\n}));\napp.get('/', (req, res) => {\n  res.render('home/index');\n});\napp.use((0, _cors.default)());\napp.use('/api', _api.default);\napp.listen(8000);\nconsole.log('App is listening to port 8000');\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJhcHAiLCJzZXQiLCJ1c2UiLCJleHByZXNzIiwic3RhdGljIiwiX19kaXJuYW1lIiwiYm9keVBhcnNlciIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJnZXQiLCJyZXEiLCJyZXMiLCJyZW5kZXIiLCJhcGkiLCJsaXN0ZW4iLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBR0EsTUFBTUEsR0FBRyxHQUFHLHVCQUFaO0FBQ0FBLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLGFBQVIsRUFBdUIsS0FBdkI7QUFDQUQsR0FBRyxDQUFDRSxHQUFKLENBQVFDLGlCQUFRQyxNQUFSLENBQWVDLFNBQVMsR0FBRyxNQUEzQixDQUFSO0FBQ0FMLEdBQUcsQ0FBQ0UsR0FBSixDQUFRSSxvQkFBV0MsSUFBWCxFQUFSO0FBQ0FQLEdBQUcsQ0FBQ0UsR0FBSixDQUFRSSxvQkFBV0UsVUFBWCxDQUFzQjtBQUFFQyxFQUFBQSxRQUFRLEVBQUU7QUFBWixDQUF0QixDQUFSO0FBQ0FULEdBQUcsQ0FBQ1UsR0FBSixDQUFRLEdBQVIsRUFBYSxDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUN6QkEsRUFBQUEsR0FBRyxDQUFDQyxNQUFKLENBQVcsWUFBWDtBQUNELENBRkQ7QUFHQWIsR0FBRyxDQUFDRSxHQUFKLENBQVEsb0JBQVI7QUFDQUYsR0FBRyxDQUFDRSxHQUFKLENBQVEsTUFBUixFQUFnQlksWUFBaEI7QUFDQWQsR0FBRyxDQUFDZSxNQUFKLENBQVcsSUFBWDtBQUNBQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSwrQkFBWiIsInNvdXJjZVJvb3QiOiIvaG9tZS96YWhyYS9EZXNrdG9wL3JlYWN0LXByb2plY3RzL2hhY2tlcm5ld3Mtc2VydmVyIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJztcbmltcG9ydCBhcGkgZnJvbSAnLi9hcGknO1xuXG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmFwcC5zZXQoJ3ZpZXcgZW5naW5lJywgJ3B1ZycpO1xuYXBwLnVzZShleHByZXNzLnN0YXRpYyhfX2Rpcm5hbWUgKyAnL3d3dycpKTtcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogZmFsc2UgfSkpO1xuYXBwLmdldCgnLycsIChyZXEsIHJlcykgPT4ge1xuICByZXMucmVuZGVyKCdob21lL2luZGV4Jyk7XG59KTtcbmFwcC51c2UoY29ycygpKTtcbmFwcC51c2UoJy9hcGknLCBhcGkpO1xuYXBwLmxpc3Rlbig4MDAwKTtcbmNvbnNvbGUubG9nKCdBcHAgaXMgbGlzdGVuaW5nIHRvIHBvcnQgODAwMCcpOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "app.js"
      ],
      "names": [
        "app",
        "set",
        "use",
        "express",
        "static",
        "__dirname",
        "bodyParser",
        "json",
        "urlencoded",
        "extended",
        "get",
        "req",
        "res",
        "render",
        "api",
        "listen",
        "console",
        "log"
      ],
      "mappings": ";;;;AAAA;;AACA;;AACA;;AACA;;AAGA,MAAMA,GAAG,GAAG,uBAAZ;AACAA,GAAG,CAACC,GAAJ,CAAQ,aAAR,EAAuB,KAAvB;AACAD,GAAG,CAACE,GAAJ,CAAQC,iBAAQC,MAAR,CAAeC,SAAS,GAAG,MAA3B,CAAR;AACAL,GAAG,CAACE,GAAJ,CAAQI,oBAAWC,IAAX,EAAR;AACAP,GAAG,CAACE,GAAJ,CAAQI,oBAAWE,UAAX,CAAsB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAtB,CAAR;AACAT,GAAG,CAACU,GAAJ,CAAQ,GAAR,EAAa,CAACC,GAAD,EAAMC,GAAN,KAAc;AACzBA,EAAAA,GAAG,CAACC,MAAJ,CAAW,YAAX;AACD,CAFD;AAGAb,GAAG,CAACE,GAAJ,CAAQ,oBAAR;AACAF,GAAG,CAACE,GAAJ,CAAQ,MAAR,EAAgBY,YAAhB;AACAd,GAAG,CAACe,MAAJ,CAAW,IAAX;AACAC,OAAO,CAACC,GAAR,CAAY,+BAAZ",
      "sourceRoot": "/home/zahra/Desktop/react-projects/hackernews-server",
      "sourcesContent": [
        "import express from 'express';\nimport bodyParser from 'body-parser';\nimport cors from 'cors';\nimport api from './api';\n\n\nconst app = express();\napp.set('view engine', 'pug');\napp.use(express.static(__dirname + '/www'));\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: false }));\napp.get('/', (req, res) => {\n  res.render('home/index');\n});\napp.use(cors());\napp.use('/api', api);\napp.listen(8000);\nconsole.log('App is listening to port 8000');"
      ]
    },
    "sourceType": "script",
    "mtime": 1566716905713
  },
  "{\"sourceRoot\":\"/home/zahra/Desktop/react-projects/hackernews-server\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/zahra/Desktop/react-projects/hackernews-server\",\"filename\":\"/home/zahra/Desktop/react-projects/hackernews-server/api.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/zahra/Desktop/react-projects/hackernews-server\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"corejs\":false,\"helpers\":true,\"regenerator\":true,\"useESModules\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.5.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/zahra/Desktop/react-projects/hackernews-server",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/zahra/Desktop/react-projects/hackernews-server",
      "filename": "/home/zahra/Desktop/react-projects/hackernews-server/api.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/zahra/Desktop/react-projects/hackernews-server",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "corejs": false,
            "helpers": true,
            "regenerator": true,
            "useESModules": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/zahra/Desktop/react-projects/hackernews-server/api.js",
        "plugins": [
          "dynamicImport",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/zahra/Desktop/react-projects/hackernews-server/api.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/zahra/Desktop/react-projects/hackernews-server",
        "sourceFileName": "api.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar _database = _interopRequireDefault(require(\"./database\"));\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nconst request = require('request');\n\nconst router = (0, _express.Router)();\nconst apiUrl = 'https://hacker-news.firebaseio.com/v0';\nconst db = new _database.default();\nrouter.get('/maxitem', async (req, res) => {\n  await request(`${apiUrl}/maxitem.json`, (err, response, body) => {\n    res.send(body);\n  });\n});\nrouter.get('/newstoriesindex', async (req, res) => {\n  await request(`${apiUrl}/newstories.json`, (err, response, body) => {\n    res.send(body);\n  });\n});\nrouter.get('/newstories/:id', async (req, res) => {\n  const {\n    id\n  } = req.params;\n  await request(`${apiUrl}/item/${id}.json`, (err, response, body) => {\n    res.send(body);\n  });\n});\nrouter.get('/beststoriesindex', async (req, res) => {\n  await request(`${apiUrl}/beststories.json`, (err, response, body) => {\n    res.send(body);\n  });\n});\nrouter.get('/beststories/:id', async (req, res) => {\n  const {\n    id\n  } = req.params;\n  await request(`${apiUrl}/item/${id}.json`, (err, response, body) => {\n    res.send(body);\n  });\n});\nrouter.get('/topstoriesindex', async (req, res) => {\n  await request(`${apiUrl}/topstories.json`, (err, response, body) => {\n    res.send(body);\n  });\n});\nrouter.get('/topstories/:id', async (req, res) => {\n  const {\n    id\n  } = req.params;\n  await request(`${apiUrl}/item/${id}.json`, (err, response, body) => {\n    res.send(body);\n  });\n});\nrouter.get('/askstoriesindex', async (req, res) => {\n  await request(`${apiUrl}/askstories.json`, (err, response, body) => {\n    res.send(body);\n  });\n});\nrouter.get('/askstories/:id', async (req, res) => {\n  const {\n    id\n  } = req.params;\n  await request(`${apiUrl}/item/${id}.json`, (err, response, body) => {\n    res.send(body);\n  });\n});\nrouter.get('/showstoriesindex', async (req, res) => {\n  await request(`${apiUrl}/showstories.json`, (err, response, body) => {\n    res.send(body);\n  });\n});\nrouter.get('/showstories/:id', async (req, res) => {\n  const {\n    id\n  } = req.params;\n  await request(`${apiUrl}/item/${id}.json`, (err, response, body) => {\n    res.send(body);\n  });\n  router.get('/jobstoriesindex', async (req, res) => {\n    await request(`${apiUrl}/jobstories.json`, (err, response, body) => {\n      res.send(body);\n    });\n  });\n  router.get('/jobstories/:id', async (req, res) => {\n    const {\n      id\n    } = req.params;\n    await request(`${apiUrl}/item/${id}.json`, (err, response, body) => {\n      res.send(body);\n    });\n  });\n}); //\n\nrouter.get('/fetchall', async (req, res) => {\n  const result = await db.insertStories();\n  res.send(result);\n});\nrouter.get('/search', async (req, res) => {\n  const {\n    q\n  } = req.query;\n  const result = await db.searchItems(q);\n  res.send(result);\n});\nrouter.get('/stories', async (req, res) => {\n  const result = await db.getStories();\n  res.send(result);\n});\nrouter.get('/user/:id', async (req, res) => {\n  const {\n    id\n  } = req.params;\n  await request(`${apiUrl}/user/${id}.json`, (err, response, body) => {\n    res.send(body);\n  });\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwaS5qcyJdLCJuYW1lcyI6WyJyZXF1ZXN0IiwicmVxdWlyZSIsInJvdXRlciIsImFwaVVybCIsImRiIiwiRGF0YUJhc2UiLCJnZXQiLCJyZXEiLCJyZXMiLCJlcnIiLCJyZXNwb25zZSIsImJvZHkiLCJzZW5kIiwiaWQiLCJwYXJhbXMiLCJyZXN1bHQiLCJpbnNlcnRTdG9yaWVzIiwicSIsInF1ZXJ5Iiwic2VhcmNoSXRlbXMiLCJnZXRTdG9yaWVzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFFQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUVBLE1BQU1DLE1BQU0sR0FBRyxzQkFBZjtBQUNBLE1BQU1DLE1BQU0sR0FBRyx1Q0FBZjtBQUNBLE1BQU1DLEVBQUUsR0FBRyxJQUFJQyxpQkFBSixFQUFYO0FBRUFILE1BQU0sQ0FBQ0ksR0FBUCxDQUFXLFVBQVgsRUFBdUIsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3pDLFFBQU1SLE9BQU8sQ0FBRSxHQUFFRyxNQUFPLGVBQVgsRUFBMkIsQ0FBQ00sR0FBRCxFQUFNQyxRQUFOLEVBQWdCQyxJQUFoQixLQUF5QjtBQUMvREgsSUFBQUEsR0FBRyxDQUFDSSxJQUFKLENBQVNELElBQVQ7QUFDRCxHQUZZLENBQWI7QUFHRCxDQUpEO0FBT0FULE1BQU0sQ0FBQ0ksR0FBUCxDQUFXLGtCQUFYLEVBQStCLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUNqRCxRQUFNUixPQUFPLENBQUUsR0FBRUcsTUFBTyxrQkFBWCxFQUE4QixDQUFDTSxHQUFELEVBQU1DLFFBQU4sRUFBZ0JDLElBQWhCLEtBQXlCO0FBQ2xFSCxJQUFBQSxHQUFHLENBQUNJLElBQUosQ0FBU0QsSUFBVDtBQUNELEdBRlksQ0FBYjtBQUdELENBSkQ7QUFNQVQsTUFBTSxDQUFDSSxHQUFQLENBQVcsaUJBQVgsRUFBOEIsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9C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YWN0LXByb2plY3RzL2hhY2tlcm5ld3Mtc2VydmVyIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgRGF0YUJhc2UgZnJvbSAnLi9kYXRhYmFzZSc7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuXG5jb25zdCByZXF1ZXN0ID0gcmVxdWlyZSgncmVxdWVzdCcpO1xuXG5jb25zdCByb3V0ZXIgPSBSb3V0ZXIoKTtcbmNvbnN0IGFwaVVybCA9ICdodHRwczovL2hhY2tlci1uZXdzLmZpcmViYXNlaW8uY29tL3YwJztcbmNvbnN0IGRiID0gbmV3IERhdGFCYXNlKCk7XG5cbnJvdXRlci5nZXQoJy9tYXhpdGVtJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGF3YWl0IHJlcXVlc3QoYCR7YXBpVXJsfS9tYXhpdGVtLmpzb25gLCAoZXJyLCByZXNwb25zZSwgYm9keSkgPT4ge1xuICAgIHJlcy5zZW5kKGJvZHkpO1xuICB9KTtcbn0pO1xuXG5cbnJvdXRlci5nZXQoJy9uZXdzdG9yaWVzaW5kZXgnLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgYXdhaXQgcmVxdWVzdChgJHthcGlVcmx9L25ld3N0b3JpZXMuanNvbmAsIChlcnIsIHJlc3BvbnNlLCBib2R5KSA9PiB7XG4gICAgcmVzLnNlbmQoYm9keSk7XG4gIH0pO1xufSk7XG5cbnJvdXRlci5nZXQoJy9uZXdzdG9yaWVzLzppZCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB7IGlkIH0gPSByZXEucGFyYW1zO1xuICBhd2FpdCByZXF1ZXN0KGAke2FwaVVybH0vaXRlbS8ke2lkfS5qc29uYCwgKGVyciwgcmVzcG9uc2UsIGJvZHkpID0+IHtcbiAgICByZXMuc2VuZChib2R5KTtcbiAgfSk7XG59KTtcblxucm91dGVyLmdldCgnL2Jlc3RzdG9yaWVzaW5kZXgnLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgYXdhaXQgcmVxdWVzdChgJHthcGlVcmx9L2Jlc3RzdG9yaWVzLmpzb25gLCAoZXJyLCByZXNwb25zZSwgYm9keSkgPT4ge1xuICAgIHJlcy5zZW5kKGJvZHkpO1xuICB9KTtcbn0pO1xuXG5cbnJvdXRlci5nZXQoJy9iZXN0c3Rvcmllcy86aWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgeyBpZCB9ID0gcmVxLnBhcmFtcztcbiAgYXdhaXQgcmVxdWVzdChgJHthcGlVcmx9L2l0ZW0vJHtpZH0uanNvbmAsIChlcnIsIHJlc3BvbnNlLCBib2R5KSA9PiB7XG4gICAgcmVzLnNlbmQoYm9keSk7XG4gIH0pO1xufSk7XG5cbnJvdXRlci5nZXQoJy90b3BzdG9yaWVzaW5kZXgnLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgYXdhaXQgcmVxdWVzdChgJHthcGlVcmx9L3RvcHN0b3JpZXMuanNvbmAsIChlcnIsIHJlc3BvbnNlLCBib2R5KSA9PiB7XG4gICAgcmVzLnNlbmQoYm9keSk7XG4gIH0pO1xufSk7XG5cblxucm91dGVyLmdldCgnL3RvcHN0b3JpZXMvOmlkJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XG4gIGF3YWl0IHJlcXVlc3QoYCR7YXBpVXJsfS9pdGVtLyR7aWR9Lmpzb25gLCAoZXJyLCByZXNwb25zZSwgYm9keSkgPT4ge1xuICAgIHJlcy5zZW5kKGJvZHkpO1xuICB9KTtcbn0pO1xuXG5yb3V0ZXIuZ2V0KCcvYXNrc3Rvcmllc2luZGV4JywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGF3YWl0IHJlcXVlc3QoYCR7YXBpVXJsfS9hc2tzdG9yaWVzLmpzb25gLCAoZXJyLCByZXNwb25zZSwgYm9keSkgPT4ge1xuICAgIHJlcy5zZW5kKGJvZHkpO1xuICB9KTtcbn0pO1xuXG5yb3V0ZXIuZ2V0KCcvYXNrc3Rvcmllcy86aWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgeyBpZCB9ID0gcmVxLnBhcmFtcztcbiAgYXdhaXQgcmVxdWVzdChgJHthcGlVcmx9L2l0ZW0vJHtpZH0uanNvbmAsIChlcnIsIHJlc3BvbnNlLCBib2R5KSA9PiB7XG4gICAgcmVzLnNlbmQoYm9keSk7XG4gIH0pO1xufSk7XG5cbnJvdXRlci5nZXQoJy9zaG93c3Rvcmllc2luZGV4JywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGF3YWl0IHJlcXVlc3QoYCR7YXBpVXJsfS9zaG93c3Rvcmllcy5qc29uYCwgKGVyciwgcmVzcG9uc2UsIGJvZHkpID0+IHtcbiAgICByZXMuc2VuZChib2R5KTtcbiAgfSk7XG59KTtcblxucm91dGVyLmdldCgnL3Nob3dzdG9yaWVzLzppZCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB7IGlkIH0gPSByZXEucGFyYW1zO1xuICBhd2FpdCByZXF1ZXN0KGAke2FwaVVybH0vaXRlbS8ke2lkfS5qc29uYCwgKGVyciwgcmVzcG9uc2UsIGJvZHkpID0+IHtcbiAgICByZXMuc2VuZChib2R5KTtcbiAgfSk7XG5cbiAgcm91dGVyLmdldCgnL2pvYnN0b3JpZXNpbmRleCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGF3YWl0IHJlcXVlc3QoYCR7YXBpVXJsfS9qb2JzdG9yaWVzLmpzb25gLCAoZXJyLCByZXNwb25zZSwgYm9keSkgPT4ge1xuICAgICAgcmVzLnNlbmQoYm9keSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHJvdXRlci5nZXQoJy9qb2JzdG9yaWVzLzppZCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XG4gICAgYXdhaXQgcmVxdWVzdChgJHthcGlVcmx9L2l0ZW0vJHtpZH0uanNvbmAsIChlcnIsIHJlc3BvbnNlLCBib2R5KSA9PiB7XG4gICAgICByZXMuc2VuZChib2R5KTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbi8vXG5yb3V0ZXIuZ2V0KCcvZmV0Y2hhbGwnLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIuaW5zZXJ0U3RvcmllcygpO1xuICByZXMuc2VuZChyZXN1bHQpO1xufSk7XG5cbnJvdXRlci5nZXQoJy9zZWFyY2gnLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgeyBxIH0gPSByZXEucXVlcnk7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLnNlYXJjaEl0ZW1zKHEpO1xuICByZXMuc2VuZChyZXN1bHQpO1xufSk7XG5cbnJvdXRlci5nZXQoJy9zdG9yaWVzJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLmdldFN0b3JpZXMoKTtcbiAgcmVzLnNlbmQocmVzdWx0KTtcbn0pO1xuXG5yb3V0ZXIuZ2V0KCcvdXNlci86aWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgeyBpZCB9ID0gcmVxLnBhcmFtcztcbiAgYXdhaXQgcmVxdWVzdChgJHthcGlVcmx9L3VzZXIvJHtpZH0uanNvbmAsIChlcnIsIHJlc3BvbnNlLCBib2R5KSA9PiB7XG4gICAgcmVzLnNlbmQoYm9keSk7XG4gIH0pO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "api.js"
      ],
      "names": [
        "request",
        "require",
        "router",
        "apiUrl",
        "db",
        "DataBase",
        "get",
        "req",
        "res",
        "err",
        "response",
        "body",
        "send",
        "id",
        "params",
        "result",
        "insertStories",
        "q",
        "query",
        "searchItems",
        "getStories"
      ],
      "mappings": "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",
      "sourceRoot": "/home/zahra/Desktop/react-projects/hackernews-server",
      "sourcesContent": [
        "import { Router } from 'express';\nimport DataBase from './database';\nimport axios from 'axios';\n\nconst request = require('request');\n\nconst router = Router();\nconst apiUrl = 'https://hacker-news.firebaseio.com/v0';\nconst db = new DataBase();\n\nrouter.get('/maxitem', async (req, res) => {\n  await request(`${apiUrl}/maxitem.json`, (err, response, body) => {\n    res.send(body);\n  });\n});\n\n\nrouter.get('/newstoriesindex', async (req, res) => {\n  await request(`${apiUrl}/newstories.json`, (err, response, body) => {\n    res.send(body);\n  });\n});\n\nrouter.get('/newstories/:id', async (req, res) => {\n  const { id } = req.params;\n  await request(`${apiUrl}/item/${id}.json`, (err, response, body) => {\n    res.send(body);\n  });\n});\n\nrouter.get('/beststoriesindex', async (req, res) => {\n  await request(`${apiUrl}/beststories.json`, (err, response, body) => {\n    res.send(body);\n  });\n});\n\n\nrouter.get('/beststories/:id', async (req, res) => {\n  const { id } = req.params;\n  await request(`${apiUrl}/item/${id}.json`, (err, response, body) => {\n    res.send(body);\n  });\n});\n\nrouter.get('/topstoriesindex', async (req, res) => {\n  await request(`${apiUrl}/topstories.json`, (err, response, body) => {\n    res.send(body);\n  });\n});\n\n\nrouter.get('/topstories/:id', async (req, res) => {\n  const { id } = req.params;\n  await request(`${apiUrl}/item/${id}.json`, (err, response, body) => {\n    res.send(body);\n  });\n});\n\nrouter.get('/askstoriesindex', async (req, res) => {\n  await request(`${apiUrl}/askstories.json`, (err, response, body) => {\n    res.send(body);\n  });\n});\n\nrouter.get('/askstories/:id', async (req, res) => {\n  const { id } = req.params;\n  await request(`${apiUrl}/item/${id}.json`, (err, response, body) => {\n    res.send(body);\n  });\n});\n\nrouter.get('/showstoriesindex', async (req, res) => {\n  await request(`${apiUrl}/showstories.json`, (err, response, body) => {\n    res.send(body);\n  });\n});\n\nrouter.get('/showstories/:id', async (req, res) => {\n  const { id } = req.params;\n  await request(`${apiUrl}/item/${id}.json`, (err, response, body) => {\n    res.send(body);\n  });\n\n  router.get('/jobstoriesindex', async (req, res) => {\n    await request(`${apiUrl}/jobstories.json`, (err, response, body) => {\n      res.send(body);\n    });\n  });\n\n  router.get('/jobstories/:id', async (req, res) => {\n    const { id } = req.params;\n    await request(`${apiUrl}/item/${id}.json`, (err, response, body) => {\n      res.send(body);\n    });\n  });\n});\n//\nrouter.get('/fetchall', async (req, res) => {\n  const result = await db.insertStories();\n  res.send(result);\n});\n\nrouter.get('/search', async (req, res) => {\n  const { q } = req.query;\n  const result = await db.searchItems(q);\n  res.send(result);\n});\n\nrouter.get('/stories', async (req, res) => {\n  const result = await db.getStories();\n  res.send(result);\n});\n\nrouter.get('/user/:id', async (req, res) => {\n  const { id } = req.params;\n  await request(`${apiUrl}/user/${id}.json`, (err, response, body) => {\n    res.send(body);\n  });\n});\n\nexport default router;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1566896705637
  },
  "{\"sourceRoot\":\"/home/zahra/Desktop/react-projects/hackernews-server\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/zahra/Desktop/react-projects/hackernews-server\",\"filename\":\"/home/zahra/Desktop/react-projects/hackernews-server/database.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/zahra/Desktop/react-projects/hackernews-server\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"corejs\":false,\"helpers\":true,\"regenerator\":true,\"useESModules\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.5.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/zahra/Desktop/react-projects/hackernews-server",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/zahra/Desktop/react-projects/hackernews-server",
      "filename": "/home/zahra/Desktop/react-projects/hackernews-server/database.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/zahra/Desktop/react-projects/hackernews-server",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "corejs": false,
            "helpers": true,
            "regenerator": true,
            "useESModules": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/zahra/Desktop/react-projects/hackernews-server/database.js",
        "plugins": [
          "dynamicImport",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/zahra/Desktop/react-projects/hackernews-server/database.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/zahra/Desktop/react-projects/hackernews-server",
        "sourceFileName": "database.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongodb = _interopRequireWildcard(require(\"mongodb\"));\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nconst CONNCTION_STRING = 'mongodb://localhost:27017';\nconst apiUrl = `https://hacker-news.firebaseio.com/v0`;\n\nconst getObjectId = () => {\n  const objectID = new _mongodb.ObjectID();\n  return objectID.toHexString();\n};\n\nclass Database {\n  async getDb() {\n    if (this.db) {\n      return this.db;\n    }\n\n    const connection = await _mongodb.default.MongoClient.connect(CONNCTION_STRING, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    });\n    console.log('connected!');\n    this.db = connection.db('hackernews');\n    return this.db;\n  }\n\n  async insertStories() {\n    const db = await this.getDb();\n    const maxItem = (await _axios.default.get(`${apiUrl}/maxitem.json`)).data;\n    const ids = [];\n\n    for (let i = Number(maxItem) - 100; i < Number(maxItem); i++) {\n      ids.push(i);\n    }\n\n    const promises = ids.map(id => _axios.default.get(`${apiUrl}/item/${id}.json`));\n    const result = await Promise.all(promises);\n    const stories = result.map(item => item.data);\n    const items = await db.collection('stories').insertMany(stories);\n    return items.ops;\n  }\n\n  async searchStories(input) {\n    const db = await this.getDb();\n    const items = await db.collection('stories').find({\n      $or: [{\n        title: {\n          $regex: `.* ${input}.*`\n        }\n      }, {\n        by: {\n          $regex: `.*${input}.*`\n        }\n      }, {\n        text: {\n          $regex: `.*${input}.*`\n        }\n      }]\n    }).toArray();\n    return items;\n  }\n\n  async getStories() {\n    const db = await this.getDb();\n    const result = await db.collection('stories').find().toArray();\n    return result;\n  }\n\n}\n\nvar _default = Database;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhdGFiYXNlLmpzIl0sIm5hbWVzIjpbIkNPTk5DVElPTl9TVFJJTkciLCJhcGlVcmwiLCJnZXRPYmplY3RJZCIsIm9iamVjdElEIiwiT2JqZWN0SUQiLCJ0b0hleFN0cmluZyIsIkRhdGFiYXNlIiwiZ2V0RGIiLCJkYiIsImNvbm5lY3Rpb24iLCJtb25nb2RiIiwiTW9uZ29DbGllbnQiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwiY29uc29sZSIsImxvZyIsImluc2VydFN0b3JpZXMiLCJtYXhJdGVtIiwiYXhpb3MiLCJnZXQiLCJkYXRhIiwiaWRzIiwiaSIsIk51bWJlciIsInB1c2giLCJwcm9taXNlcyIsIm1hcCIsImlkIiwicmVzdWx0IiwiUHJvbWlzZSIsImFsbCIsInN0b3JpZXMiLCJpdGVtIiwiaXRlbXMiLCJjb2xsZWN0aW9uIiwiaW5zZXJ0TWFueSIsIm9wcyIsInNlYXJjaFN0b3JpZXMiLCJpbnB1dCIsImZpbmQiLCIkb3IiLCJ0aXRsZSIsIiRyZWdleCIsImJ5IiwidGV4dCIsInRvQXJyYXkiLCJnZXRTdG9yaWVzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUVBLE1BQU1BLGdCQUFnQixHQUFHLDJCQUF6QjtBQUVBLE1BQU1DLE1BQU0sR0FBSSx1Q0FBaEI7O0FBR0EsTUFBTUMsV0FBVyxHQUFHLE1BQU07QUFDeEIsUUFBTUMsUUFBUSxHQUFHLElBQUlDLGlCQUFKLEVBQWpCO0FBQ0EsU0FBT0QsUUFBUSxDQUFDRSxXQUFULEVBQVA7QUFDRCxDQUhEOztBQUtBLE1BQU1DLFFBQU4sQ0FBZTtBQUNiLFFBQU1DLEtBQU4sR0FBYztBQUNaLFFBQUksS0FBS0MsRUFBVCxFQUFhO0FBQ1gsYUFBTyxLQUFLQSxFQUFaO0FBQ0Q7O0FBQ0QsVUFBTUMsVUFBVSxHQUFHLE1BQU1DLGlCQUFRQyxXQUFSLENBQW9CQyxPQUFwQixDQUE0QlosZ0JBQTVCLEVBQThDO0FBQ3JFYSxNQUFBQSxlQUFlLEVBQUUsSUFEb0Q7QUFFckVDLE1BQUFBLGtCQUFrQixFQUFFO0FBRmlELEtBQTlDLENBQXpCO0FBSUFDLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFlBQVo7QUFDQSxTQUFLUixFQUFMLEdBQVVDLFVBQVUsQ0FBQ0QsRUFBWCxDQUFjLFlBQWQsQ0FBVjtBQUNBLFdBQU8sS0FBS0EsRUFBWjtBQUNEOztBQUVELFFBQU1TLGFBQU4sR0FBc0I7QUFDcEIsVUFBTVQsRUFBRSxHQUFHLE1BQU0sS0FBS0QsS0FBTCxFQUFqQjtBQUNBLFVBQU1XLE9BQU8sR0FBRyxDQUFDLE1BQU1DLGVBQU1DLEdBQU4sQ0FBVyxHQUFFbkIsTUFBTyxlQUFwQixDQUFQLEVBQTRDb0IsSUFBNUQ7QUFDQSxVQUFNQyxHQUFHLEdBQUcsRUFBWjs7QUFDQSxTQUFLLElBQUlDLENBQUMsR0FBR0MsTUFBTSxDQUFDTixPQUFELENBQU4sR0FBa0IsR0FBL0IsRUFBb0NLLENBQUMsR0FBR0MsTUFBTSxDQUFDTixPQUFELENBQTlDLEVBQXlESyxDQUFDLEVBQTFELEVBQThEO0FBQzVERCxNQUFBQSxHQUFHLENBQUNHLElBQUosQ0FBU0YsQ0FBVDtBQUNEOztBQUNELFVBQU1HLFFBQVEsR0FBR0osR0FBRyxDQUFDSyxHQUFKLENBQVNDLEVBQUQsSUFBUVQsZUFBTUMsR0FBTixDQUFXLEdBQUVuQixNQUFPLFNBQVEyQixFQUFHLE9BQS9CLENBQWhCLENBQWpCO0FBQ0EsVUFBTUMsTUFBTSxHQUFHLE1BQU1DLE9BQU8sQ0FBQ0MsR0FBUixDQUFZTCxRQUFaLENBQXJCO0FBQ0EsVUFBTU0sT0FBTyxHQUFHSCxNQUFNLENBQUNGLEdBQVAsQ0FBWU0sSUFBRCxJQUFVQSxJQUFJLENBQUNaLElBQTFCLENBQWhCO0FBQ0EsVUFBTWEsS0FBSyxHQUFHLE1BQU0xQixFQUFFLENBQUMyQixVQUFILENBQWMsU0FBZCxFQUF5QkMsVUFBekIsQ0FBb0NKLE9BQXBDLENBQXBCO0FBQ0EsV0FBT0UsS0FBSyxDQUFDRyxHQUFiO0FBQ0Q7O0FBR0QsUUFBTUMsYUFBTixDQUFvQkMsS0FBcEIsRUFBMkI7QUFDekIsVUFBTS9CLEVBQUUsR0FBRyxNQUFNLEtBQUtELEtBQUwsRUFBakI7QUFDQSxVQUFNMkIsS0FBSyxHQUFHLE1BQU0xQixFQUFFLENBQUMyQixVQUFILENBQWMsU0FBZCxFQUF5QkssSUFBekIsQ0FBOEI7QUFDaERDLE1BQUFBLEdBQUcsRUFBRSxDQUNIO0FBQUVDLFFBQUFBLEtBQUssRUFBRTtBQUFFQyxVQUFBQSxNQUFNLEVBQUcsTUFBS0osS0FBTTtBQUF0QjtBQUFULE9BREcsRUFFSDtBQUFFSyxRQUFBQSxFQUFFLEVBQUU7QUFBRUQsVUFBQUEsTUFBTSxFQUFHLEtBQUlKLEtBQU07QUFBckI7QUFBTixPQUZHLEVBR0g7QUFBRU0sUUFBQUEsSUFBSSxFQUFFO0FBQUVGLFVBQUFBLE1BQU0sRUFBRyxLQUFJSixLQUFNO0FBQXJCO0FBQVIsT0FIRztBQUQyQyxLQUE5QixFQU1qQk8sT0FOaUIsRUFBcEI7QUFPQSxXQUFPWixLQUFQO0FBQ0Q7O0FBRUQsUUFBTWEsVUFBTixHQUFtQjtBQUNqQixVQUFNdkMsRUFBRSxHQUFHLE1BQU0sS0FBS0QsS0FBTCxFQUFqQjtBQUNBLFVBQU1zQixNQUFNLEdBQUcsTUFBTXJCLEVBQUUsQ0FBQzJCLFVBQUgsQ0FBYyxTQUFkLEVBQXlCSyxJQUF6QixHQUFnQ00sT0FBaEMsRUFBckI7QUFDQSxXQUFPakIsTUFBUDtBQUNEOztBQTdDWTs7ZUFnREF2QixRIiwic291cmNlUm9vdCI6Ii9ob21lL3phaHJhL0Rlc2t0b3AvcmVhY3QtcHJvamVjdHMvaGFja2VybmV3cy1zZXJ2ZXIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29kYiwgeyBPYmplY3RJRCB9IGZyb20gJ21vbmdvZGInO1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcblxuY29uc3QgQ09OTkNUSU9OX1NUUklORyA9ICdtb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3JztcblxuY29uc3QgYXBpVXJsID0gYGh0dHBzOi8vaGFja2VyLW5ld3MuZmlyZWJhc2Vpby5jb20vdjBgO1xuXG5cbmNvbnN0IGdldE9iamVjdElkID0gKCkgPT4ge1xuICBjb25zdCBvYmplY3RJRCA9IG5ldyBPYmplY3RJRCgpO1xuICByZXR1cm4gb2JqZWN0SUQudG9IZXhTdHJpbmcoKTtcbn07XG5cbmNsYXNzIERhdGFiYXNlIHtcbiAgYXN5bmMgZ2V0RGIoKSB7XG4gICAgaWYgKHRoaXMuZGIpIHtcbiAgICAgIHJldHVybiB0aGlzLmRiO1xuICAgIH1cbiAgICBjb25zdCBjb25uZWN0aW9uID0gYXdhaXQgbW9uZ29kYi5Nb25nb0NsaWVudC5jb25uZWN0KENPTk5DVElPTl9TVFJJTkcsIHtcbiAgICAgIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcbiAgICAgIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSxcbiAgICB9KTtcbiAgICBjb25zb2xlLmxvZygnY29ubmVjdGVkIScpO1xuICAgIHRoaXMuZGIgPSBjb25uZWN0aW9uLmRiKCdoYWNrZXJuZXdzJyk7XG4gICAgcmV0dXJuIHRoaXMuZGI7XG4gIH1cblxuICBhc3luYyBpbnNlcnRTdG9yaWVzKCkge1xuICAgIGNvbnN0IGRiID0gYXdhaXQgdGhpcy5nZXREYigpO1xuICAgIGNvbnN0IG1heEl0ZW0gPSAoYXdhaXQgYXhpb3MuZ2V0KGAke2FwaVVybH0vbWF4aXRlbS5qc29uYCkpLmRhdGE7XG4gICAgY29uc3QgaWRzID0gW107XG4gICAgZm9yIChsZXQgaSA9IE51bWJlcihtYXhJdGVtKSAtIDEwMDsgaSA8IE51bWJlcihtYXhJdGVtKTsgaSsrKSB7XG4gICAgICBpZHMucHVzaChpKTtcbiAgICB9XG4gICAgY29uc3QgcHJvbWlzZXMgPSBpZHMubWFwKChpZCkgPT4gYXhpb3MuZ2V0KGAke2FwaVVybH0vaXRlbS8ke2lkfS5qc29uYCkpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICBjb25zdCBzdG9yaWVzID0gcmVzdWx0Lm1hcCgoaXRlbSkgPT4gaXRlbS5kYXRhKTtcbiAgICBjb25zdCBpdGVtcyA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oJ3N0b3JpZXMnKS5pbnNlcnRNYW55KHN0b3JpZXMpO1xuICAgIHJldHVybiBpdGVtcy5vcHM7XG4gIH1cblxuXG4gIGFzeW5jIHNlYXJjaFN0b3JpZXMoaW5wdXQpIHtcbiAgICBjb25zdCBkYiA9IGF3YWl0IHRoaXMuZ2V0RGIoKTtcbiAgICBjb25zdCBpdGVtcyA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oJ3N0b3JpZXMnKS5maW5kKHtcbiAgICAgICRvcjogW1xuICAgICAgICB7IHRpdGxlOiB7ICRyZWdleDogYC4qICR7aW5wdXR9LipgIH0gfSxcbiAgICAgICAgeyBieTogeyAkcmVnZXg6IGAuKiR7aW5wdXR9LipgIH0gfSxcbiAgICAgICAgeyB0ZXh0OiB7ICRyZWdleDogYC4qJHtpbnB1dH0uKmAgfSB9LFxuICAgICAgXSxcbiAgICB9KS50b0FycmF5KCk7XG4gICAgcmV0dXJuIGl0ZW1zO1xuICB9XG5cbiAgYXN5bmMgZ2V0U3RvcmllcygpIHtcbiAgICBjb25zdCBkYiA9IGF3YWl0IHRoaXMuZ2V0RGIoKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCdzdG9yaWVzJykuZmluZCgpLnRvQXJyYXkoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERhdGFiYXNlO1xuXG5cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "database.js"
      ],
      "names": [
        "CONNCTION_STRING",
        "apiUrl",
        "getObjectId",
        "objectID",
        "ObjectID",
        "toHexString",
        "Database",
        "getDb",
        "db",
        "connection",
        "mongodb",
        "MongoClient",
        "connect",
        "useNewUrlParser",
        "useUnifiedTopology",
        "console",
        "log",
        "insertStories",
        "maxItem",
        "axios",
        "get",
        "data",
        "ids",
        "i",
        "Number",
        "push",
        "promises",
        "map",
        "id",
        "result",
        "Promise",
        "all",
        "stories",
        "item",
        "items",
        "collection",
        "insertMany",
        "ops",
        "searchStories",
        "input",
        "find",
        "$or",
        "title",
        "$regex",
        "by",
        "text",
        "toArray",
        "getStories"
      ],
      "mappings": ";;;;;;;;;;;AAAA;;AACA;;AAEA,MAAMA,gBAAgB,GAAG,2BAAzB;AAEA,MAAMC,MAAM,GAAI,uCAAhB;;AAGA,MAAMC,WAAW,GAAG,MAAM;AACxB,QAAMC,QAAQ,GAAG,IAAIC,iBAAJ,EAAjB;AACA,SAAOD,QAAQ,CAACE,WAAT,EAAP;AACD,CAHD;;AAKA,MAAMC,QAAN,CAAe;AACb,QAAMC,KAAN,GAAc;AACZ,QAAI,KAAKC,EAAT,EAAa;AACX,aAAO,KAAKA,EAAZ;AACD;;AACD,UAAMC,UAAU,GAAG,MAAMC,iBAAQC,WAAR,CAAoBC,OAApB,CAA4BZ,gBAA5B,EAA8C;AACrEa,MAAAA,eAAe,EAAE,IADoD;AAErEC,MAAAA,kBAAkB,EAAE;AAFiD,KAA9C,CAAzB;AAIAC,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACA,SAAKR,EAAL,GAAUC,UAAU,CAACD,EAAX,CAAc,YAAd,CAAV;AACA,WAAO,KAAKA,EAAZ;AACD;;AAED,QAAMS,aAAN,GAAsB;AACpB,UAAMT,EAAE,GAAG,MAAM,KAAKD,KAAL,EAAjB;AACA,UAAMW,OAAO,GAAG,CAAC,MAAMC,eAAMC,GAAN,CAAW,GAAEnB,MAAO,eAApB,CAAP,EAA4CoB,IAA5D;AACA,UAAMC,GAAG,GAAG,EAAZ;;AACA,SAAK,IAAIC,CAAC,GAAGC,MAAM,CAACN,OAAD,CAAN,GAAkB,GAA/B,EAAoCK,CAAC,GAAGC,MAAM,CAACN,OAAD,CAA9C,EAAyDK,CAAC,EAA1D,EAA8D;AAC5DD,MAAAA,GAAG,CAACG,IAAJ,CAASF,CAAT;AACD;;AACD,UAAMG,QAAQ,GAAGJ,GAAG,CAACK,GAAJ,CAASC,EAAD,IAAQT,eAAMC,GAAN,CAAW,GAAEnB,MAAO,SAAQ2B,EAAG,OAA/B,CAAhB,CAAjB;AACA,UAAMC,MAAM,GAAG,MAAMC,OAAO,CAACC,GAAR,CAAYL,QAAZ,CAArB;AACA,UAAMM,OAAO,GAAGH,MAAM,CAACF,GAAP,CAAYM,IAAD,IAAUA,IAAI,CAACZ,IAA1B,CAAhB;AACA,UAAMa,KAAK,GAAG,MAAM1B,EAAE,CAAC2B,UAAH,CAAc,SAAd,EAAyBC,UAAzB,CAAoCJ,OAApC,CAApB;AACA,WAAOE,KAAK,CAACG,GAAb;AACD;;AAGD,QAAMC,aAAN,CAAoBC,KAApB,EAA2B;AACzB,UAAM/B,EAAE,GAAG,MAAM,KAAKD,KAAL,EAAjB;AACA,UAAM2B,KAAK,GAAG,MAAM1B,EAAE,CAAC2B,UAAH,CAAc,SAAd,EAAyBK,IAAzB,CAA8B;AAChDC,MAAAA,GAAG,EAAE,CACH;AAAEC,QAAAA,KAAK,EAAE;AAAEC,UAAAA,MAAM,EAAG,MAAKJ,KAAM;AAAtB;AAAT,OADG,EAEH;AAAEK,QAAAA,EAAE,EAAE;AAAED,UAAAA,MAAM,EAAG,KAAIJ,KAAM;AAArB;AAAN,OAFG,EAGH;AAAEM,QAAAA,IAAI,EAAE;AAAEF,UAAAA,MAAM,EAAG,KAAIJ,KAAM;AAArB;AAAR,OAHG;AAD2C,KAA9B,EAMjBO,OANiB,EAApB;AAOA,WAAOZ,KAAP;AACD;;AAED,QAAMa,UAAN,GAAmB;AACjB,UAAMvC,EAAE,GAAG,MAAM,KAAKD,KAAL,EAAjB;AACA,UAAMsB,MAAM,GAAG,MAAMrB,EAAE,CAAC2B,UAAH,CAAc,SAAd,EAAyBK,IAAzB,GAAgCM,OAAhC,EAArB;AACA,WAAOjB,MAAP;AACD;;AA7CY;;eAgDAvB,Q",
      "sourceRoot": "/home/zahra/Desktop/react-projects/hackernews-server",
      "sourcesContent": [
        "import mongodb, { ObjectID } from 'mongodb';\nimport axios from 'axios';\n\nconst CONNCTION_STRING = 'mongodb://localhost:27017';\n\nconst apiUrl = `https://hacker-news.firebaseio.com/v0`;\n\n\nconst getObjectId = () => {\n  const objectID = new ObjectID();\n  return objectID.toHexString();\n};\n\nclass Database {\n  async getDb() {\n    if (this.db) {\n      return this.db;\n    }\n    const connection = await mongodb.MongoClient.connect(CONNCTION_STRING, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true,\n    });\n    console.log('connected!');\n    this.db = connection.db('hackernews');\n    return this.db;\n  }\n\n  async insertStories() {\n    const db = await this.getDb();\n    const maxItem = (await axios.get(`${apiUrl}/maxitem.json`)).data;\n    const ids = [];\n    for (let i = Number(maxItem) - 100; i < Number(maxItem); i++) {\n      ids.push(i);\n    }\n    const promises = ids.map((id) => axios.get(`${apiUrl}/item/${id}.json`));\n    const result = await Promise.all(promises);\n    const stories = result.map((item) => item.data);\n    const items = await db.collection('stories').insertMany(stories);\n    return items.ops;\n  }\n\n\n  async searchStories(input) {\n    const db = await this.getDb();\n    const items = await db.collection('stories').find({\n      $or: [\n        { title: { $regex: `.* ${input}.*` } },\n        { by: { $regex: `.*${input}.*` } },\n        { text: { $regex: `.*${input}.*` } },\n      ],\n    }).toArray();\n    return items;\n  }\n\n  async getStories() {\n    const db = await this.getDb();\n    const result = await db.collection('stories').find().toArray();\n    return result;\n  }\n}\n\nexport default Database;\n\n\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1566805333338
  },
  "{\"sourceRoot\":\"/home/zahra/Desktop/react-projects/hackernews-server\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/zahra/Desktop/react-projects/hackernews-server\",\"filename\":\"/home/zahra/Desktop/react-projects/hackernews-server/database.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/zahra/Desktop/react-projects/hackernews-server\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"corejs\":false,\"helpers\":true,\"regenerator\":true,\"useESModules\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.5.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/zahra/Desktop/react-projects/hackernews-server",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/zahra/Desktop/react-projects/hackernews-server",
      "filename": "/home/zahra/Desktop/react-projects/hackernews-server/database.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/zahra/Desktop/react-projects/hackernews-server",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "corejs": false,
            "helpers": true,
            "regenerator": true,
            "useESModules": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/zahra/Desktop/react-projects/hackernews-server/database.js",
        "plugins": [
          "dynamicImport",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/zahra/Desktop/react-projects/hackernews-server/database.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/zahra/Desktop/react-projects/hackernews-server",
        "sourceFileName": "database.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongodb = _interopRequireWildcard(require(\"mongodb\"));\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nconst CONNCTION_STRING = 'mongodb://localhost:27017';\nconst apiUrl = `https://hacker-news.firebaseio.com/v0`;\n\nconst getObjectId = () => {\n  const objectID = new _mongodb.ObjectID();\n  return objectID.toHexString();\n};\n\nclass Database {\n  async getDb() {\n    if (this.db) {\n      return this.db;\n    }\n\n    const connection = await _mongodb.default.MongoClient.connect(CONNCTION_STRING, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    });\n    console.log('connected!');\n    this.db = connection.db('hackernews');\n    return this.db;\n  }\n\n  async insertStories() {\n    const db = await this.getDb();\n    const maxItem = (await _axios.default.get(`${apiUrl}/maxitem.json`)).data;\n    const ids = [];\n\n    for (let i = Number(maxItem) - 100; i < Number(maxItem); i++) {\n      ids.push(i);\n    }\n\n    const promises = ids.map(id => _axios.default.get(`${apiUrl}/item/${id}.json`));\n    const result = await Promise.all(promises);\n    const stories = result.map(item => item.data);\n    const items = await db.collection('stories').insertMany(stories);\n    return items.ops;\n  }\n\n  async searchItems(input) {\n    const db = await this.getDb();\n    const items = await db.collection('stories').find({\n      $or: [{\n        title: {\n          $regex: `.* ${input}.*`\n        }\n      }, {\n        by: {\n          $regex: `.*${input}.*`\n        }\n      }, {\n        text: {\n          $regex: `.*${input}.*`\n        }\n      }]\n    }).toArray();\n    return items;\n  }\n\n  async getStories() {\n    const db = await this.getDb();\n    const result = await db.collection('stories').find().toArray();\n    return result;\n  }\n\n}\n\nvar _default = Database;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhdGFiYXNlLmpzIl0sIm5hbWVzIjpbIkNPTk5DVElPTl9TVFJJTkciLCJhcGlVcmwiLCJnZXRPYmplY3RJZCIsIm9iamVjdElEIiwiT2JqZWN0SUQiLCJ0b0hleFN0cmluZyIsIkRhdGFiYXNlIiwiZ2V0RGIiLCJkYiIsImNvbm5lY3Rpb24iLCJtb25nb2RiIiwiTW9uZ29DbGllbnQiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwiY29uc29sZSIsImxvZyIsImluc2VydFN0b3JpZXMiLCJtYXhJdGVtIiwiYXhpb3MiLCJnZXQiLCJkYXRhIiwiaWRzIiwiaSIsIk51bWJlciIsInB1c2giLCJwcm9taXNlcyIsIm1hcCIsImlkIiwicmVzdWx0IiwiUHJvbWlzZSIsImFsbCIsInN0b3JpZXMiLCJpdGVtIiwiaXRlbXMiLCJjb2xsZWN0aW9uIiwiaW5zZXJ0TWFueSIsIm9wcyIsInNlYXJjaEl0ZW1zIiwiaW5wdXQiLCJmaW5kIiwiJG9yIiwidGl0bGUiLCIkcmVnZXgiLCJieSIsInRleHQiLCJ0b0FycmF5IiwiZ2V0U3RvcmllcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFFQSxNQUFNQSxnQkFBZ0IsR0FBRywyQkFBekI7QUFFQSxNQUFNQyxNQUFNLEdBQUksdUNBQWhCOztBQUdBLE1BQU1DLFdBQVcsR0FBRyxNQUFNO0FBQ3hCLFFBQU1DLFFBQVEsR0FBRyxJQUFJQyxpQkFBSixFQUFqQjtBQUNBLFNBQU9ELFFBQVEsQ0FBQ0UsV0FBVCxFQUFQO0FBQ0QsQ0FIRDs7QUFLQSxNQUFNQyxRQUFOLENBQWU7QUFDYixRQUFNQyxLQUFOLEdBQWM7QUFDWixRQUFJLEtBQUtDLEVBQVQsRUFBYTtBQUNYLGFBQU8sS0FBS0EsRUFBWjtBQUNEOztBQUNELFVBQU1DLFVBQVUsR0FBRyxNQUFNQyxpQkFBUUMsV0FBUixDQUFvQkMsT0FBcEIsQ0FBNEJaLGdCQUE1QixFQUE4QztBQUNyRWEsTUFBQUEsZUFBZSxFQUFFLElBRG9EO0FBRXJFQyxNQUFBQSxrQkFBa0IsRUFBRTtBQUZpRCxLQUE5QyxDQUF6QjtBQUlBQyxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxZQUFaO0FBQ0EsU0FBS1IsRUFBTCxHQUFVQyxVQUFVLENBQUNELEVBQVgsQ0FBYyxZQUFkLENBQVY7QUFDQSxXQUFPLEtBQUtBLEVBQVo7QUFDRDs7QUFFRCxRQUFNUyxhQUFOLEdBQXNCO0FBQ3BCLFVBQU1ULEVBQUUsR0FBRyxNQUFNLEtBQUtELEtBQUwsRUFBakI7QUFDQSxVQUFNVyxPQUFPLEdBQUcsQ0FBQyxNQUFNQyxlQUFNQyxHQUFOLENBQVcsR0FBRW5CLE1BQU8sZUFBcEIsQ0FBUCxFQUE0Q29CLElBQTVEO0FBQ0EsVUFBTUMsR0FBRyxHQUFHLEVBQVo7O0FBQ0EsU0FBSyxJQUFJQyxDQUFDLEdBQUdDLE1BQU0sQ0FBQ04sT0FBRCxDQUFOLEdBQWtCLEdBQS9CLEVBQW9DSyxDQUFDLEdBQUdDLE1BQU0sQ0FBQ04sT0FBRCxDQUE5QyxFQUF5REssQ0FBQyxFQUExRCxFQUE4RDtBQUM1REQsTUFBQUEsR0FBRyxDQUFDRyxJQUFKLENBQVNGLENBQVQ7QUFDRDs7QUFDRCxVQUFNRyxRQUFRLEdBQUdKLEdBQUcsQ0FBQ0ssR0FBSixDQUFTQyxFQUFELElBQVFULGVBQU1DLEdBQU4sQ0FBVyxHQUFFbkIsTUFBTyxTQUFRMkIsRUFBRyxPQUEvQixDQUFoQixDQUFqQjtBQUNBLFVBQU1DLE1BQU0sR0FBRyxNQUFNQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUwsUUFBWixDQUFyQjtBQUNBLFVBQU1NLE9BQU8sR0FBR0gsTUFBTSxDQUFDRixHQUFQLENBQVlNLElBQUQsSUFBVUEsSUFBSSxDQUFDWixJQUExQixDQUFoQjtBQUNBLFVBQU1hLEtBQUssR0FBRyxNQUFNMUIsRUFBRSxDQUFDMkIsVUFBSCxDQUFjLFNBQWQsRUFBeUJDLFVBQXpCLENBQW9DSixPQUFwQyxDQUFwQjtBQUNBLFdBQU9FLEtBQUssQ0FBQ0csR0FBYjtBQUNEOztBQUdELFFBQU1DLFdBQU4sQ0FBa0JDLEtBQWxCLEVBQXlCO0FBQ3ZCLFVBQU0vQixFQUFFLEdBQUcsTUFBTSxLQUFLRCxLQUFMLEVBQWpCO0FBQ0EsVUFBTTJCLEtBQUssR0FBRyxNQUFNMUIsRUFBRSxDQUFDMkIsVUFBSCxDQUFjLFNBQWQsRUFBeUJLLElBQXpCLENBQThCO0FBQ2hEQyxNQUFBQSxHQUFHLEVBQUUsQ0FDSDtBQUFFQyxRQUFBQSxLQUFLLEVBQUU7QUFBRUMsVUFBQUEsTUFBTSxFQUFHLE1BQUtKLEtBQU07QUFBdEI7QUFBVCxPQURHLEVBRUg7QUFBRUssUUFBQUEsRUFBRSxFQUFFO0FBQUVELFVBQUFBLE1BQU0sRUFBRyxLQUFJSixLQUFNO0FBQXJCO0FBQU4sT0FGRyxFQUdIO0FBQUVNLFFBQUFBLElBQUksRUFBRTtBQUFFRixVQUFBQSxNQUFNLEVBQUcsS0FBSUosS0FBTTtBQUFyQjtBQUFSLE9BSEc7QUFEMkMsS0FBOUIsRUFNakJPLE9BTmlCLEVBQXBCO0FBT0EsV0FBT1osS0FBUDtBQUNEOztBQUVELFFBQU1hLFVBQU4sR0FBbUI7QUFDakIsVUFBTXZDLEVBQUUsR0FBRyxNQUFNLEtBQUtELEtBQUwsRUFBakI7QUFDQSxVQUFNc0IsTUFBTSxHQUFHLE1BQU1yQixFQUFFLENBQUMyQixVQUFILENBQWMsU0FBZCxFQUF5QkssSUFBekIsR0FBZ0NNLE9BQWhDLEVBQXJCO0FBQ0EsV0FBT2pCLE1BQVA7QUFDRDs7QUE3Q1k7O2VBZ0RBdkIsUSIsInNvdXJjZVJvb3QiOiIvaG9tZS96YWhyYS9EZXNrdG9wL3JlYWN0LXByb2plY3RzL2hhY2tlcm5ld3Mtc2VydmVyIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvZGIsIHsgT2JqZWN0SUQgfSBmcm9tICdtb25nb2RiJztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5cbmNvbnN0IENPTk5DVElPTl9TVFJJTkcgPSAnbW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNyc7XG5cbmNvbnN0IGFwaVVybCA9IGBodHRwczovL2hhY2tlci1uZXdzLmZpcmViYXNlaW8uY29tL3YwYDtcblxuXG5jb25zdCBnZXRPYmplY3RJZCA9ICgpID0+IHtcbiAgY29uc3Qgb2JqZWN0SUQgPSBuZXcgT2JqZWN0SUQoKTtcbiAgcmV0dXJuIG9iamVjdElELnRvSGV4U3RyaW5nKCk7XG59O1xuXG5jbGFzcyBEYXRhYmFzZSB7XG4gIGFzeW5jIGdldERiKCkge1xuICAgIGlmICh0aGlzLmRiKSB7XG4gICAgICByZXR1cm4gdGhpcy5kYjtcbiAgICB9XG4gICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IG1vbmdvZGIuTW9uZ29DbGllbnQuY29ubmVjdChDT05OQ1RJT05fU1RSSU5HLCB7XG4gICAgICB1c2VOZXdVcmxQYXJzZXI6IHRydWUsXG4gICAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXG4gICAgfSk7XG4gICAgY29uc29sZS5sb2coJ2Nvbm5lY3RlZCEnKTtcbiAgICB0aGlzLmRiID0gY29ubmVjdGlvbi5kYignaGFja2VybmV3cycpO1xuICAgIHJldHVybiB0aGlzLmRiO1xuICB9XG5cbiAgYXN5bmMgaW5zZXJ0U3RvcmllcygpIHtcbiAgICBjb25zdCBkYiA9IGF3YWl0IHRoaXMuZ2V0RGIoKTtcbiAgICBjb25zdCBtYXhJdGVtID0gKGF3YWl0IGF4aW9zLmdldChgJHthcGlVcmx9L21heGl0ZW0uanNvbmApKS5kYXRhO1xuICAgIGNvbnN0IGlkcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSBOdW1iZXIobWF4SXRlbSkgLSAxMDA7IGkgPCBOdW1iZXIobWF4SXRlbSk7IGkrKykge1xuICAgICAgaWRzLnB1c2goaSk7XG4gICAgfVxuICAgIGNvbnN0IHByb21pc2VzID0gaWRzLm1hcCgoaWQpID0+IGF4aW9zLmdldChgJHthcGlVcmx9L2l0ZW0vJHtpZH0uanNvbmApKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgY29uc3Qgc3RvcmllcyA9IHJlc3VsdC5tYXAoKGl0ZW0pID0+IGl0ZW0uZGF0YSk7XG4gICAgY29uc3QgaXRlbXMgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCdzdG9yaWVzJykuaW5zZXJ0TWFueShzdG9yaWVzKTtcbiAgICByZXR1cm4gaXRlbXMub3BzO1xuICB9XG5cblxuICBhc3luYyBzZWFyY2hJdGVtcyhpbnB1dCkge1xuICAgIGNvbnN0IGRiID0gYXdhaXQgdGhpcy5nZXREYigpO1xuICAgIGNvbnN0IGl0ZW1zID0gYXdhaXQgZGIuY29sbGVjdGlvbignc3RvcmllcycpLmZpbmQoe1xuICAgICAgJG9yOiBbXG4gICAgICAgIHsgdGl0bGU6IHsgJHJlZ2V4OiBgLiogJHtpbnB1dH0uKmAgfSB9LFxuICAgICAgICB7IGJ5OiB7ICRyZWdleDogYC4qJHtpbnB1dH0uKmAgfSB9LFxuICAgICAgICB7IHRleHQ6IHsgJHJlZ2V4OiBgLioke2lucHV0fS4qYCB9IH0sXG4gICAgICBdLFxuICAgIH0pLnRvQXJyYXkoKTtcbiAgICByZXR1cm4gaXRlbXM7XG4gIH1cblxuICBhc3luYyBnZXRTdG9yaWVzKCkge1xuICAgIGNvbnN0IGRiID0gYXdhaXQgdGhpcy5nZXREYigpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oJ3N0b3JpZXMnKS5maW5kKCkudG9BcnJheSgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGF0YWJhc2U7XG5cblxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "database.js"
      ],
      "names": [
        "CONNCTION_STRING",
        "apiUrl",
        "getObjectId",
        "objectID",
        "ObjectID",
        "toHexString",
        "Database",
        "getDb",
        "db",
        "connection",
        "mongodb",
        "MongoClient",
        "connect",
        "useNewUrlParser",
        "useUnifiedTopology",
        "console",
        "log",
        "insertStories",
        "maxItem",
        "axios",
        "get",
        "data",
        "ids",
        "i",
        "Number",
        "push",
        "promises",
        "map",
        "id",
        "result",
        "Promise",
        "all",
        "stories",
        "item",
        "items",
        "collection",
        "insertMany",
        "ops",
        "searchItems",
        "input",
        "find",
        "$or",
        "title",
        "$regex",
        "by",
        "text",
        "toArray",
        "getStories"
      ],
      "mappings": ";;;;;;;;;;;AAAA;;AACA;;AAEA,MAAMA,gBAAgB,GAAG,2BAAzB;AAEA,MAAMC,MAAM,GAAI,uCAAhB;;AAGA,MAAMC,WAAW,GAAG,MAAM;AACxB,QAAMC,QAAQ,GAAG,IAAIC,iBAAJ,EAAjB;AACA,SAAOD,QAAQ,CAACE,WAAT,EAAP;AACD,CAHD;;AAKA,MAAMC,QAAN,CAAe;AACb,QAAMC,KAAN,GAAc;AACZ,QAAI,KAAKC,EAAT,EAAa;AACX,aAAO,KAAKA,EAAZ;AACD;;AACD,UAAMC,UAAU,GAAG,MAAMC,iBAAQC,WAAR,CAAoBC,OAApB,CAA4BZ,gBAA5B,EAA8C;AACrEa,MAAAA,eAAe,EAAE,IADoD;AAErEC,MAAAA,kBAAkB,EAAE;AAFiD,KAA9C,CAAzB;AAIAC,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACA,SAAKR,EAAL,GAAUC,UAAU,CAACD,EAAX,CAAc,YAAd,CAAV;AACA,WAAO,KAAKA,EAAZ;AACD;;AAED,QAAMS,aAAN,GAAsB;AACpB,UAAMT,EAAE,GAAG,MAAM,KAAKD,KAAL,EAAjB;AACA,UAAMW,OAAO,GAAG,CAAC,MAAMC,eAAMC,GAAN,CAAW,GAAEnB,MAAO,eAApB,CAAP,EAA4CoB,IAA5D;AACA,UAAMC,GAAG,GAAG,EAAZ;;AACA,SAAK,IAAIC,CAAC,GAAGC,MAAM,CAACN,OAAD,CAAN,GAAkB,GAA/B,EAAoCK,CAAC,GAAGC,MAAM,CAACN,OAAD,CAA9C,EAAyDK,CAAC,EAA1D,EAA8D;AAC5DD,MAAAA,GAAG,CAACG,IAAJ,CAASF,CAAT;AACD;;AACD,UAAMG,QAAQ,GAAGJ,GAAG,CAACK,GAAJ,CAASC,EAAD,IAAQT,eAAMC,GAAN,CAAW,GAAEnB,MAAO,SAAQ2B,EAAG,OAA/B,CAAhB,CAAjB;AACA,UAAMC,MAAM,GAAG,MAAMC,OAAO,CAACC,GAAR,CAAYL,QAAZ,CAArB;AACA,UAAMM,OAAO,GAAGH,MAAM,CAACF,GAAP,CAAYM,IAAD,IAAUA,IAAI,CAACZ,IAA1B,CAAhB;AACA,UAAMa,KAAK,GAAG,MAAM1B,EAAE,CAAC2B,UAAH,CAAc,SAAd,EAAyBC,UAAzB,CAAoCJ,OAApC,CAApB;AACA,WAAOE,KAAK,CAACG,GAAb;AACD;;AAGD,QAAMC,WAAN,CAAkBC,KAAlB,EAAyB;AACvB,UAAM/B,EAAE,GAAG,MAAM,KAAKD,KAAL,EAAjB;AACA,UAAM2B,KAAK,GAAG,MAAM1B,EAAE,CAAC2B,UAAH,CAAc,SAAd,EAAyBK,IAAzB,CAA8B;AAChDC,MAAAA,GAAG,EAAE,CACH;AAAEC,QAAAA,KAAK,EAAE;AAAEC,UAAAA,MAAM,EAAG,MAAKJ,KAAM;AAAtB;AAAT,OADG,EAEH;AAAEK,QAAAA,EAAE,EAAE;AAAED,UAAAA,MAAM,EAAG,KAAIJ,KAAM;AAArB;AAAN,OAFG,EAGH;AAAEM,QAAAA,IAAI,EAAE;AAAEF,UAAAA,MAAM,EAAG,KAAIJ,KAAM;AAArB;AAAR,OAHG;AAD2C,KAA9B,EAMjBO,OANiB,EAApB;AAOA,WAAOZ,KAAP;AACD;;AAED,QAAMa,UAAN,GAAmB;AACjB,UAAMvC,EAAE,GAAG,MAAM,KAAKD,KAAL,EAAjB;AACA,UAAMsB,MAAM,GAAG,MAAMrB,EAAE,CAAC2B,UAAH,CAAc,SAAd,EAAyBK,IAAzB,GAAgCM,OAAhC,EAArB;AACA,WAAOjB,MAAP;AACD;;AA7CY;;eAgDAvB,Q",
      "sourceRoot": "/home/zahra/Desktop/react-projects/hackernews-server",
      "sourcesContent": [
        "import mongodb, { ObjectID } from 'mongodb';\nimport axios from 'axios';\n\nconst CONNCTION_STRING = 'mongodb://localhost:27017';\n\nconst apiUrl = `https://hacker-news.firebaseio.com/v0`;\n\n\nconst getObjectId = () => {\n  const objectID = new ObjectID();\n  return objectID.toHexString();\n};\n\nclass Database {\n  async getDb() {\n    if (this.db) {\n      return this.db;\n    }\n    const connection = await mongodb.MongoClient.connect(CONNCTION_STRING, {\n      useNewUrlParser: true,\n      useUnifiedTopology: true,\n    });\n    console.log('connected!');\n    this.db = connection.db('hackernews');\n    return this.db;\n  }\n\n  async insertStories() {\n    const db = await this.getDb();\n    const maxItem = (await axios.get(`${apiUrl}/maxitem.json`)).data;\n    const ids = [];\n    for (let i = Number(maxItem) - 100; i < Number(maxItem); i++) {\n      ids.push(i);\n    }\n    const promises = ids.map((id) => axios.get(`${apiUrl}/item/${id}.json`));\n    const result = await Promise.all(promises);\n    const stories = result.map((item) => item.data);\n    const items = await db.collection('stories').insertMany(stories);\n    return items.ops;\n  }\n\n\n  async searchItems(input) {\n    const db = await this.getDb();\n    const items = await db.collection('stories').find({\n      $or: [\n        { title: { $regex: `.* ${input}.*` } },\n        { by: { $regex: `.*${input}.*` } },\n        { text: { $regex: `.*${input}.*` } },\n      ],\n    }).toArray();\n    return items;\n  }\n\n  async getStories() {\n    const db = await this.getDb();\n    const result = await db.collection('stories').find().toArray();\n    return result;\n  }\n}\n\nexport default Database;\n\n\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1566896708805
  },
  "{\"sourceRoot\":\"/home/zahra/Desktop/react-projects/hackernews-server\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/zahra/Desktop/react-projects/hackernews-server\",\"filename\":\"/home/zahra/Desktop/react-projects/hackernews-server/api.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/zahra/Desktop/react-projects/hackernews-server\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"corejs\":false,\"helpers\":true,\"regenerator\":true,\"useESModules\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.5.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/zahra/Desktop/react-projects/hackernews-server",
      "caller": {
        "name": "@babel/register"
      },
      "cwd": "/home/zahra/Desktop/react-projects/hackernews-server",
      "filename": "/home/zahra/Desktop/react-projects/hackernews-server/api.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/zahra/Desktop/react-projects/hackernews-server",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "corejs": false,
            "helpers": true,
            "regenerator": true,
            "useESModules": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/zahra/Desktop/react-projects/hackernews-server/api.js",
        "plugins": [
          "dynamicImport",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/home/zahra/Desktop/react-projects/hackernews-server/api.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/zahra/Desktop/react-projects/hackernews-server",
        "sourceFileName": "api.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = require(\"express\");\n\nvar _database = _interopRequireDefault(require(\"./database\"));\n\nconst request = require('request');\n\nconst router = (0, _express.Router)();\nconst apiUrl = `https://hacker-news.firebaseio.com/v0`;\nconst db = new _database.default();\nrouter.get('/maxitem', async (req, res) => {\n  await request(`${apiUrl}/maxitem.json`, (err, response, body) => {\n    res.send(body);\n  });\n});\nrouter.get('/newstoriesindex', async (req, res) => {\n  await request(`${apiUrl}/newstories.json`, (err, response, body) => {\n    res.send(body);\n  });\n});\nrouter.get(`/newstories/:id`, async (req, res) => {\n  const {\n    id\n  } = req.params;\n  await request(`${apiUrl}/item/${id}.json`, (err, response, body) => {\n    res.send(body);\n  });\n});\nrouter.get('/beststoriesindex', async (req, res) => {\n  await request(`${apiUrl}/beststories.json`, (err, response, body) => {\n    res.send(body);\n  });\n});\nrouter.get(`/beststories/:id`, async (req, res) => {\n  const {\n    id\n  } = req.params;\n  await request(`${apiUrl}/item/${id}.json`, (err, response, body) => {\n    res.send(body);\n  });\n}); //\n\nrouter.get('/fetchall', async (req, res) => {\n  const result = await db.insertStories();\n  res.send(result);\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwaS5qcyJdLCJuYW1lcyI6WyJyZXF1ZXN0IiwicmVxdWlyZSIsInJvdXRlciIsImFwaVVybCIsImRiIiwiRGF0YUJhc2UiLCJnZXQiLCJyZXEiLCJyZXMiLCJlcnIiLCJyZXNwb25zZSIsImJvZHkiLCJzZW5kIiwiaWQiLCJwYXJhbXMiLCJyZXN1bHQiLCJpbnNlcnRTdG9yaWVzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFFQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUVBLE1BQU1DLE1BQU0sR0FBRyxzQkFBZjtBQUNBLE1BQU1DLE1BQU0sR0FBSSx1Q0FBaEI7QUFDQSxNQUFNQyxFQUFFLEdBQUcsSUFBSUMsaUJBQUosRUFBWDtBQUVBSCxNQUFNLENBQUNJLEdBQVAsQ0FBVyxVQUFYLEVBQXVCLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN6QyxRQUFNUixPQUFPLENBQUUsR0FBRUcsTUFBTyxlQUFYLEVBQTJCLENBQUNNLEdBQUQsRUFBTUMsUUFBTixFQUFnQkMsSUFBaEIsS0FBeUI7QUFDL0RILElBQUFBLEdBQUcsQ0FBQ0ksSUFBSixDQUFTRCxJQUFUO0FBQ0QsR0FGWSxDQUFiO0FBR0QsQ0FKRDtBQU9BVCxNQUFNLENBQUNJLEdBQVAsQ0FBVyxrQkFBWCxFQUErQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDakQsUUFBTVIsT0FBTyxDQUFFLEdBQUVHLE1BQU8sa0JBQVgsRUFBOEIsQ0FBQ00sR0FBRCxFQUFNQyxRQUFOLEVBQWdCQyxJQUFoQixLQUF5QjtBQUNsRUgsSUFBQUEsR0FBRyxDQUFDSSxJQUFKLENBQVNELElBQVQ7QUFDRCxHQUZZLENBQWI7QUFHRCxDQUpEO0FBTUFULE1BQU0sQ0FBQ0ksR0FBUCxDQUFZLGlCQUFaLEVBQThCLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUNoRCxRQUFNO0FBQUVLLElBQUFBO0FBQUYsTUFBU04sR0FBRyxDQUFDTyxNQUFuQjtBQUNBLFFBQU1kLE9BQU8sQ0FBRSxHQUFFRyxNQUFPLFNBQVFVLEVBQUcsT0FBdEIsRUFBOEIsQ0FBQ0osR0FBRCxFQUFNQyxRQUFOLEVBQWdCQyxJQUFoQixLQUF5QjtBQUNsRUgsSUFBQUEsR0FBRyxDQUFDSSxJQUFKLENBQVNELElBQVQ7QUFDRCxHQUZZLENBQWI7QUFHRCxDQUxEO0FBT0FULE1BQU0sQ0FBQ0ksR0FBUCxDQUFXLG1CQUFYLEVBQWdDLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUNsRCxRQUFNUixPQUFPLENBQUUsR0FBRUcsTUFBTyxtQkFBWCxFQUErQixDQUFDTSxHQUFELEVBQU1DLFFBQU4sRUFBZ0JDLElBQWhCLEtBQXlCO0FBQ25FSCxJQUFBQSxHQUFHLENBQUNJLElBQUosQ0FBU0QsSUFBVDtBQUNELEdBRlksQ0FBYjtBQUdELENBSkQ7QUFPQVQsTUFBTSxDQUFDSSxHQUFQLENBQVksa0JBQVosRUFBK0IsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ2pELFFBQU07QUFBRUssSUFBQUE7QUFBRixNQUFTTixHQUFHLENBQUNPLE1BQW5CO0FBQ0EsUUFBTWQsT0FBTyxDQUFFLEdBQUVHLE1BQU8sU0FBUVUsRUFBRyxPQUF0QixFQUE4QixDQUFDSixHQUFELEVBQU1DLFFBQU4sRUFBZ0JDLElBQWhCLEtBQXlCO0FBQ2xFSCxJQUFBQSxHQUFHLENBQUNJLElBQUosQ0FBU0QsSUFBVDtBQUNELEdBRlksQ0FBYjtBQUdELENBTEQsRSxDQU1BOztBQUNBVCxNQUFNLENBQUNJLEdBQVAsQ0FBVyxXQUFYLEVBQXdCLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUMxQyxRQUFNTyxNQUFNLEdBQUcsTUFBTVgsRUFBRSxDQUFDWSxhQUFILEVBQXJCO0FBQ0FSLEVBQUFBLEdBQUcsQ0FBQ0ksSUFBSixDQUFTRyxNQUFUO0FBQ0QsQ0FIRDtlQVFlYixNIiwic291cmNlUm9vdCI6Ii9ob21lL3phaHJhL0Rlc2t0b3AvcmVhY3QtcHJvamVjdHMvaGFja2VybmV3cy1zZXJ2ZXIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSb3V0ZXIgfSBmcm9tICdleHByZXNzJztcbmltcG9ydCBEYXRhQmFzZSBmcm9tICcuL2RhdGFiYXNlJztcblxuY29uc3QgcmVxdWVzdCA9IHJlcXVpcmUoJ3JlcXVlc3QnKTtcblxuY29uc3Qgcm91dGVyID0gUm91dGVyKCk7XG5jb25zdCBhcGlVcmwgPSBgaHR0cHM6Ly9oYWNrZXItbmV3cy5maXJlYmFzZWlvLmNvbS92MGA7XG5jb25zdCBkYiA9IG5ldyBEYXRhQmFzZSgpO1xuXG5yb3V0ZXIuZ2V0KCcvbWF4aXRlbScsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBhd2FpdCByZXF1ZXN0KGAke2FwaVVybH0vbWF4aXRlbS5qc29uYCwgKGVyciwgcmVzcG9uc2UsIGJvZHkpID0+IHtcbiAgICByZXMuc2VuZChib2R5KTtcbiAgfSk7XG59KTtcblxuXG5yb3V0ZXIuZ2V0KCcvbmV3c3Rvcmllc2luZGV4JywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGF3YWl0IHJlcXVlc3QoYCR7YXBpVXJsfS9uZXdzdG9yaWVzLmpzb25gLCAoZXJyLCByZXNwb25zZSwgYm9keSkgPT4ge1xuICAgIHJlcy5zZW5kKGJvZHkpO1xuICB9KTtcbn0pO1xuXG5yb3V0ZXIuZ2V0KGAvbmV3c3Rvcmllcy86aWRgLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgeyBpZCB9ID0gcmVxLnBhcmFtcztcbiAgYXdhaXQgcmVxdWVzdChgJHthcGlVcmx9L2l0ZW0vJHtpZH0uanNvbmAsIChlcnIsIHJlc3BvbnNlLCBib2R5KSA9PiB7XG4gICAgcmVzLnNlbmQoYm9keSk7XG4gIH0pO1xufSk7XG5cbnJvdXRlci5nZXQoJy9iZXN0c3Rvcmllc2luZGV4JywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGF3YWl0IHJlcXVlc3QoYCR7YXBpVXJsfS9iZXN0c3Rvcmllcy5qc29uYCwgKGVyciwgcmVzcG9uc2UsIGJvZHkpID0+IHtcbiAgICByZXMuc2VuZChib2R5KTtcbiAgfSk7XG59KTtcblxuXG5yb3V0ZXIuZ2V0KGAvYmVzdHN0b3JpZXMvOmlkYCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XG4gIGF3YWl0IHJlcXVlc3QoYCR7YXBpVXJsfS9pdGVtLyR7aWR9Lmpzb25gLCAoZXJyLCByZXNwb25zZSwgYm9keSkgPT4ge1xuICAgIHJlcy5zZW5kKGJvZHkpO1xuICB9KTtcbn0pO1xuLy9cbnJvdXRlci5nZXQoJy9mZXRjaGFsbCcsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5pbnNlcnRTdG9yaWVzKCk7XG4gIHJlcy5zZW5kKHJlc3VsdCk7XG59KTtcblxuXG5cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "api.js"
      ],
      "names": [
        "request",
        "require",
        "router",
        "apiUrl",
        "db",
        "DataBase",
        "get",
        "req",
        "res",
        "err",
        "response",
        "body",
        "send",
        "id",
        "params",
        "result",
        "insertStories"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA;;AAEA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AAEA,MAAMC,MAAM,GAAG,sBAAf;AACA,MAAMC,MAAM,GAAI,uCAAhB;AACA,MAAMC,EAAE,GAAG,IAAIC,iBAAJ,EAAX;AAEAH,MAAM,CAACI,GAAP,CAAW,UAAX,EAAuB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACzC,QAAMR,OAAO,CAAE,GAAEG,MAAO,eAAX,EAA2B,CAACM,GAAD,EAAMC,QAAN,EAAgBC,IAAhB,KAAyB;AAC/DH,IAAAA,GAAG,CAACI,IAAJ,CAASD,IAAT;AACD,GAFY,CAAb;AAGD,CAJD;AAOAT,MAAM,CAACI,GAAP,CAAW,kBAAX,EAA+B,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjD,QAAMR,OAAO,CAAE,GAAEG,MAAO,kBAAX,EAA8B,CAACM,GAAD,EAAMC,QAAN,EAAgBC,IAAhB,KAAyB;AAClEH,IAAAA,GAAG,CAACI,IAAJ,CAASD,IAAT;AACD,GAFY,CAAb;AAGD,CAJD;AAMAT,MAAM,CAACI,GAAP,CAAY,iBAAZ,EAA8B,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAChD,QAAM;AAAEK,IAAAA;AAAF,MAASN,GAAG,CAACO,MAAnB;AACA,QAAMd,OAAO,CAAE,GAAEG,MAAO,SAAQU,EAAG,OAAtB,EAA8B,CAACJ,GAAD,EAAMC,QAAN,EAAgBC,IAAhB,KAAyB;AAClEH,IAAAA,GAAG,CAACI,IAAJ,CAASD,IAAT;AACD,GAFY,CAAb;AAGD,CALD;AAOAT,MAAM,CAACI,GAAP,CAAW,mBAAX,EAAgC,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAClD,QAAMR,OAAO,CAAE,GAAEG,MAAO,mBAAX,EAA+B,CAACM,GAAD,EAAMC,QAAN,EAAgBC,IAAhB,KAAyB;AACnEH,IAAAA,GAAG,CAACI,IAAJ,CAASD,IAAT;AACD,GAFY,CAAb;AAGD,CAJD;AAOAT,MAAM,CAACI,GAAP,CAAY,kBAAZ,EAA+B,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjD,QAAM;AAAEK,IAAAA;AAAF,MAASN,GAAG,CAACO,MAAnB;AACA,QAAMd,OAAO,CAAE,GAAEG,MAAO,SAAQU,EAAG,OAAtB,EAA8B,CAACJ,GAAD,EAAMC,QAAN,EAAgBC,IAAhB,KAAyB;AAClEH,IAAAA,GAAG,CAACI,IAAJ,CAASD,IAAT;AACD,GAFY,CAAb;AAGD,CALD,E,CAMA;;AACAT,MAAM,CAACI,GAAP,CAAW,WAAX,EAAwB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAC1C,QAAMO,MAAM,GAAG,MAAMX,EAAE,CAACY,aAAH,EAArB;AACAR,EAAAA,GAAG,CAACI,IAAJ,CAASG,MAAT;AACD,CAHD;eAQeb,M",
      "sourceRoot": "/home/zahra/Desktop/react-projects/hackernews-server",
      "sourcesContent": [
        "import { Router } from 'express';\nimport DataBase from './database';\n\nconst request = require('request');\n\nconst router = Router();\nconst apiUrl = `https://hacker-news.firebaseio.com/v0`;\nconst db = new DataBase();\n\nrouter.get('/maxitem', async (req, res) => {\n  await request(`${apiUrl}/maxitem.json`, (err, response, body) => {\n    res.send(body);\n  });\n});\n\n\nrouter.get('/newstoriesindex', async (req, res) => {\n  await request(`${apiUrl}/newstories.json`, (err, response, body) => {\n    res.send(body);\n  });\n});\n\nrouter.get(`/newstories/:id`, async (req, res) => {\n  const { id } = req.params;\n  await request(`${apiUrl}/item/${id}.json`, (err, response, body) => {\n    res.send(body);\n  });\n});\n\nrouter.get('/beststoriesindex', async (req, res) => {\n  await request(`${apiUrl}/beststories.json`, (err, response, body) => {\n    res.send(body);\n  });\n});\n\n\nrouter.get(`/beststories/:id`, async (req, res) => {\n  const { id } = req.params;\n  await request(`${apiUrl}/item/${id}.json`, (err, response, body) => {\n    res.send(body);\n  });\n});\n//\nrouter.get('/fetchall', async (req, res) => {\n  const result = await db.insertStories();\n  res.send(result);\n});\n\n\n\n\nexport default router;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1566708304675
  }
}